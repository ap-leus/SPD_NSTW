<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>DOST-GIA Program</title>
<style>
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  background: #000;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  overflow: hidden;
}

.screen {
  position: relative;
  width: 100vw;
  height: 100vh;
  overflow: hidden;
  background-color: #000;
}

#homeScreen {
  background: url("background.png") no-repeat center center;
  background-size: cover;
  background-color: #002366;
}

.label-layer {
  position: absolute;
  left: 50%;
  top: 0;
  transform: translateX(-50%);
  width: 90%;
  height: 100%;
}

.title-button {
  position: absolute;
  font-size: 2.8vh;
  font-weight: 900;
  color: #fff;
  text-shadow: 0 0 10px rgba(0,0,0,0.9);
  cursor: pointer;
  user-select: none;
  white-space: nowrap;
}
.title-button:hover {
  transform: scale(1.04);
}

.center-title {
  position: absolute;
  left: 50%;
  top: 45%;
  transform: translate(-50%, -50%);
  font-size: 5vh;
  font-weight: 900;
  color: #ffc800;
  text-shadow: 0 0 12px rgba(0,0,0,0.9);
}

/* Detail screen */
#detailScreen { display: none; background: #000; }
.detail-image {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  background-position: center center;
  background-repeat: no-repeat;
  background-size: cover;
}

/* Navigation buttons */
.back-button, .nav-button {
  position: absolute;
  z-index: 10;
  border: none;
  border-radius: 999px;
  padding: 1vh 2vh;
  font-size: 2.4vh;
  font-weight: 700;
  cursor: pointer;
  background: rgba(0,0,0,0.55);
  color: #fff;
  box-shadow: 0 0 12px rgba(0,0,0,0.7);
  user-select: none;
  transition: all 0.2s ease-in-out;
}
.back-button { top: 5%; left: 9%; }
.nav-left { left: 8%; }
.nav-right { right: 8%; }
.nav-button { top: 50%; transform: translateY(-50%); }
.back-button:hover, .nav-button:hover {
  background: rgba(255,255,255,0.2);
  transform: translateY(-50%) scale(1.08);
}
.back-button:hover { transform: scale(1.08); }

/* === ARROWS === */
.svg-connector {
  position: absolute;
  width: 100%;
  height: 100%;
  pointer-events: none;
}

.connector-line {
  stroke: #ffffff;
  stroke-width: 2.5px;
  stroke-dasharray: 6 6;
  fill: none;
  opacity: 0.9;
  marker-end: url(#arrowhead);
  animation: dashmove 4s linear infinite;
}

@keyframes dashmove {
  to { stroke-dashoffset: -12; }
}
</style>
</head>
<body>

<!-- HOME SCREEN -->
<div id="homeScreen" class="screen">

  <!-- SVG arrows (spread out with unique curvature to avoid overlaps) -->
  <svg class="svg-connector">
    <defs>
      <marker id="arrowhead" markerWidth="8" markerHeight="8" refX="5" refY="3" orient="auto" markerUnits="strokeWidth">
        <polygon points="0 0, 6 3, 0 6" fill="white" />
      </marker>
    </defs>

    <!-- LEFT SIDE -->
    <path d="M960 500 Q700 300 250 150" class="connector-line"/>  <!-- Mandate -->
    <path d="M960 500 Q700 350 250 250" class="connector-line"/>  <!-- Who may avail -->
    <path d="M960 500 Q700 420 250 400" class="connector-line"/>  <!-- Requirements -->
    <path d="M960 500 Q700 500 250 550" class="connector-line"/>  <!-- Evaluation -->
    <path d="M960 500 Q700 600 250 700" class="connector-line"/>  <!-- etc -->

    <!-- RIGHT SIDE -->
    <path d="M960 500 Q1220 300 1650 150" class="connector-line"/>  <!-- Funding -->
    <path d="M960 500 Q1220 350 1650 250" class="connector-line"/>  <!-- Objective -->
    <path d="M960 500 Q1220 420 1650 400" class="connector-line"/>  <!-- Timeline -->
    <path d="M960 500 Q1220 500 1650 550" class="connector-line"/>  <!-- Coverage -->
    <path d="M960 500 Q1220 580 1650 700" class="connector-line"/>  <!-- Recipients -->
  </svg>

  <div class="label-layer">
    <div class="center-title">DOST-GIA Program</div>

    <div class="title-button" style="top: 17%; left: 3%;" onclick="openTopic('mandate')">Mandate</div>
    <div class="title-button" style="top: 19%; right: 3%;" onclick="openTopic('funding')">Funding Agencies</div>

    <div class="title-button" style="top: 27%; left: 3%;" onclick="openTopic('avail')">Who may avail?</div>
    <div class="title-button" style="top: 28%; right: 3%;" onclick="openTopic('objective')">Objective</div>

    <div class="title-button" style="top: 50%; right: 3%;" onclick="openTopic('timeline')">Timeline</div>

    <div class="title-button" style="top: 55%; left: 3%;" onclick="openTopic('requirements')">Requirements</div>
    <div class="title-button" style="top: 60%; right: 3%;" onclick="openTopic('coverage')">Assistance Coverage</div>

    <div class="title-button" style="top: 68%; left: 3%;" onclick="openTopic('evaluation')">Evaluation Period</div>
    <div class="title-button" style="top: 75%; right: 3%;" onclick="openTopic('recipients')">Recipients of GIA Funds</div>
  </div>
</div>

<!-- DETAIL SCREEN -->
<div id="detailScreen" class="screen">
  <div id="detailImage" class="detail-image"></div>
  <button class="back-button" onclick="goHome()">← BACK</button>
  <button id="prevBtn" class="nav-button nav-left" onclick="prevSlide()">◀</button>
  <button id="nextBtn" class="nav-button nav-right" onclick="nextSlide()">▶</button>
</div>

<!-- FULLSCREEN BUTTON -->
<button id="fullscreenBtn" onclick="openFullscreen()"
  style="position:fixed; bottom:2%; right:2%; z-index:999; padding:1vh 2vh;
  background:#ffc800; color:#000; border:none; border-radius:8px; font-weight:700;
  cursor:pointer; box-shadow:0 0 10px rgba(0,0,0,0.6);">
  ⛶ Fullscreen
</button>

<script>
function openFullscreen() {
  const elem = document.documentElement;
  if (elem.requestFullscreen) elem.requestFullscreen();
  else if (elem.webkitRequestFullscreen) elem.webkitRequestFullscreen();
  else if (elem.msRequestFullscreen) elem.msRequestFullscreen();
}

const topicImages = {
  mandate: ["mandate.png"],
  avail: ["who may avail.png"],
  funding: ["funding agencies.png"],
  objective: ["objective.png"],
  timeline: ["timeline dost.png", "timeline non dost.png"],
  requirements: ["requirements1.png", "requirements2.png"],
  coverage: ["assistancecoverage.png"],
  evaluation: ["evaluationperiod.png"],
  recipients: ["recipient.png"]
};

let currentTopic = null, currentIndex = 0;

const homeScreen = document.getElementById("homeScreen");
const detailScreen = document.getElementById("detailScreen");
const detailImage = document.getElementById("detailImage");
const prevBtn = document.getElementById("prevBtn");
const nextBtn = document.getElementById("nextBtn");

function openTopic(key) {
  const slides = topicImages[key];
  if (!slides || slides.length === 0) {
    alert("No slide image set for topic: " + key);
    return;
  }
  currentTopic = key;
  currentIndex = 0;
  showSlide();
  homeScreen.style.display = "none";
  detailScreen.style.display = "block";
}

function showSlide() {
  const slides = topicImages[currentTopic];
  if (!slides) return;
  detailImage.style.backgroundImage = `url('${slides[currentIndex]}')`;
  prevBtn.style.display = nextBtn.style.display = (slides.length > 1) ? "block" : "none";
}

function prevSlide() {
  const slides = topicImages[currentTopic];
  if (!slides || slides.length <= 1) return;
  currentIndex = (currentIndex - 1 + slides.length) % slides.length;
  showSlide();
}

function nextSlide() {
  const slides = topicImages[currentTopic];
  if (!slides || slides.length <= 1) return;
  currentIndex = (currentIndex + 1) % slides.length;
  showSlide();
}

function goHome() {
  detailScreen.style.display = "none";
  homeScreen.style.display = "block";
}
</script>
</body>
</html>

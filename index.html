<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>DOST-GIA Program</title>
<style>
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  background: #000;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  overflow: hidden;
}

/* Main screen */
.screen {
  position: relative;
  width: 100vw;
  height: 100vh;
  margin: 0;
  overflow: hidden;
  background-color: #000;
}

/* Background */
#homeScreen {
  background: url("background.webp") no-repeat center center;
  background-size: cover;
  background-color: #002366;
}

.label-layer {
  position: absolute;
  left: 50%;
  top: 0;
  transform: translateX(-50%);
  width: 90%;
  height: 100%;
}

/* Transparent highlight panel behind DOST-GIA title */
.highlight-panel {
  position: absolute;
  left: 50%;
  top: 45%;
  transform: translate(-50%, -50%);
  background: rgba(255, 255, 255, 0.3);
  padding: 2vh 6vh;
  border-radius: 20px;
  box-shadow: 0 0 25px rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(6px);
  z-index: 1;
  border: 1px solid rgba(255, 255, 255, 0.5);
}

/* Title text with pulse animation */
.center-title {
  position: relative;
  font-size: 5vh;
  font-weight: 900;
  color: #ffc800;
  white-space: nowrap;
  text-shadow: 0 0 4px rgba(0, 0, 0, 0.8);
  z-index: 2;
  animation: pulseGlow 2.5s infinite ease-in-out;
}

@keyframes pulseGlow {
  0% {
    text-shadow: 0 0 6px rgba(0,0,0,0.9);
    transform: scale(1);
  }
  50% {
    text-shadow: 0 0 10px rgba(255,255,255,0.4);
    transform: scale(1.04);
  }
  100% {
    text-shadow: 0 0 6px rgba(0,0,0,0.9);
    transform: scale(1);
  }
}

/* Clickable titles */
.title-button {
  position: absolute;
  font-size: 2.8vh;
  font-weight: 900;
  color: #fff;
  text-shadow: 0 0 6px rgba(0,0,0,0.8);
  cursor: pointer;
  user-select: none;
  white-space: nowrap;
  transition: all 0.3s ease;
  animation: floatPulse 4s ease-in-out infinite;
}
.title-button:hover {
  color: #ffd700;
  text-shadow: 0 0 8px #fff, 0 0 15px #ffd700;
  transform: scale(1.1);
}

@keyframes floatPulse {
  0%,100% { transform: translateY(0); }
  50% { transform: translateY(-5px); }
}

/* Detail screen */
#detailScreen {
  display: none;
  background: #000;
}
.detail-image {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  background-position: center center;
  background-repeat: no-repeat;
  background-size: cover;
  background-color: #000;
}

/* Buttons */
.back-button,
.nav-button {
  position: absolute;
  z-index: 10;
  border: none;
  border-radius: 999px;
  padding: 1vh 2vh;
  font-size: 2.4vh;
  font-weight: 700;
  cursor: pointer;
  background: rgba(0, 0, 0, 0.55);
  color: #fff;
  box-shadow: 0 0 12px rgba(0, 0, 0, 0.7);
  user-select: none;
  transition: all 0.2s ease-in-out;
}
.back-button { top: 5%; left: 9%; }
.nav-left { left: 8%; }
.nav-right { right: 8%; }
.nav-button { top: 50%; transform: translateY(-50%); }
.back-button:hover,
.nav-button:hover {
  background: rgba(255, 255, 255, 0.2);
  transform: translateY(-50%) scale(1.08);
}
.back-button:hover { transform: scale(1.08); }

.challenge-button {
  position: absolute;
  font-size: 2.8vh;
  font-weight: 900;
  color: #fff;
  left: 50%;
  transform: translateX(-50%);
  bottom: 14%;
  white-space: nowrap;
  cursor: pointer;
  text-shadow: 0 0 8px rgba(0,0,0,0.8);
  background: rgba(255, 255, 255, 0.15);
  padding: 1vh 3vh;
  border-radius: 12px;
  border: 2px solid rgba(255,255,255,0.5);
  box-shadow: 0 0 12px rgba(255,255,255,0.5);
  animation: challengePulse 2s ease-in-out infinite;
  transition: 0.3s;
}

.challenge-button:hover {
  color: #ffd700;
  text-shadow: 0 0 10px #fff, 0 0 15px #ffd700;
  box-shadow: 0 0 18px #fff, 0 0 25px #ffd700;
  transform: translateX(-50%) scale(1.05);
}

@keyframes challengePulse {
  0% { opacity: 0.9; }
  50% { opacity: 1; }
  100% { opacity: 0.9; }
}
</style>
</head>
<body>

  <!-- HOME SCREEN -->
  <div id="homeScreen" class="screen">
    <div class="label-layer">
      <!-- Highlight Panel -->
      <div class="highlight-panel">
        <div class="center-title">DOST-GIA Program</div>
      </div>

      <!-- Titles -->
      <div class="title-button" style="top: 15%; left: 3%;" onclick="openTopic('mandate')">Mandate</div>
      <div class="title-button" style="top: 17%; right: 3%;" onclick="openTopic('funding')">Funding Agencies</div>

      <div class="title-button" style="top: 22%; left: 3%;" onclick="openTopic('avail')">Who may avail?</div>
      <div class="title-button" style="top: 25%; right: 3%;" onclick="openTopic('objective')">Objective</div>
      <div class="title-button" style="top: 30%; left: 3%;" onclick="openTopic('timeline')">Timeline</div>

      <div class="title-button" style="top: 56%; left: 3%;" onclick="openTopic('requirements')">Requirements</div>
      <div class="title-button" style="top: 60%; right: 3%;" onclick="openTopic('coverage')">Assistance Coverage</div>

      <div class="title-button" style="top: 66%; left: 3%;" onclick="openTopic('evaluation')">Evaluation Period</div>
      <div class="title-button" style="top: 73%; right: 3%;" onclick="openTopic('recipients')">Recipients of GIA Funds</div>
      <div class="challenge-button" onclick="startQuiz()"> TRUE OR FALSE CHALLENGE</div>
    </div>
  </div>

  <!-- DETAIL SCREEN -->
  <div id="detailScreen" class="screen">
    <div id="detailImage" class="detail-image"></div>

    <button class="back-button" onclick="goHome()">← BACK</button>
    <button id="prevBtn" class="nav-button nav-left" onclick="prevSlide()">◀</button>
    <button id="nextBtn" class="nav-button nav-right" onclick="nextSlide()">▶</button>
  </div>

  <!-- FULLSCREEN BUTTON -->
  <button id="fullscreenBtn" onclick="openFullscreen()"
    style="position:fixed; bottom:2%; right:2%; z-index:5; padding:1vh 2vh;
    background:#ffc800; color:#000; border:none; border-radius:8px; font-weight:700;
    cursor:pointer; box-shadow:0 0 10px rgba(0,0,0,0.6);">
    ⛶ Fullscreen
  </button>
  
  <!-- QUIZ SCREEN -->
  <div id="quizScreen" class="screen" style="display:none;
      background:url('background.webp') no-repeat center center;
      background-size:cover; z-index:20;">

    <div id="quizBox" style="
        position:absolute; top:20%; left:50%; transform:translateX(-50%);
        width:80%; text-align:center; color:white;">
        
        <h1 id="quizQuestion" style="
            font-size:4vh; 
            font-weight:900;
            text-shadow:0 0 12px #000;">Question</h1>

        <div id="quizButtons" style="margin-top:8vh;">
          <button onclick="answer(true)" style="
              font-size:3vh; padding:2vh 4vh; margin-right:4vh;
              border:none; border-radius:12px; cursor:pointer;
              background:#00c853; color:white; font-weight:900;
              box-shadow:0 0 12px rgba(0,0,0,0.6);">
              TRUE
          </button>

          <button onclick="answer(false)" style="
              font-size:3vh; padding:2vh 4vh;
              border:none; border-radius:12px; cursor:pointer;
              background:#d50000; color:white; font-weight:900;
              box-shadow:0 0 12px rgba(0,0,0,0.6);">
              FALSE
          </button>
        </div>
    </div>
  </div>

  <script>
    function openFullscreen() {
      const elem = document.documentElement;
      if (elem.requestFullscreen) elem.requestFullscreen();
      else if (elem.webkitRequestFullscreen) elem.webkitRequestFullscreen();
      else if (elem.msRequestFullscreen) elem.msRequestFullscreen();
    }

    const topicImages = {
      mandate: ["mandate.webp"],
      avail: ["who may avail.webp"],
      funding: ["funding agencies.webp"],
      objective: ["objective.webp"],
      timeline: ["timeline dost.webp", "timeline non dost.webp"],
      requirements: ["requirements1.webp", "requirements2.webp"],
      coverage: ["assistancecoverage.webp"],
      evaluation: ["evaluationperiod.webp"],
      recipients: ["recipient.webp"],
      challenge: ["challenge.webp"]
    };

    let currentTopic = null;
    let currentIndex = 0;

    const homeScreen   = document.getElementById("homeScreen");
    const detailScreen = document.getElementById("detailScreen");
    const detailImage  = document.getElementById("detailImage");
    const prevBtn      = document.getElementById("prevBtn");
    const nextBtn      = document.getElementById("nextBtn");
    const quizScreen   = document.getElementById("quizScreen");

    function openTopic(key) {
      const slides = topicImages[key];
      if (!slides || slides.length === 0) {
        alert("No slide image set for topic: " + key);
        return;
      }
      currentTopic = key;
      currentIndex = 0;
      showSlide();
      homeScreen.style.display = "none";
      detailScreen.style.display = "block";
    }

    function showSlide() {
      const slides = topicImages[currentTopic];
      if (!slides) return;
      detailImage.style.backgroundImage = `url('${slides[currentIndex]}')`;
      prevBtn.style.display = nextBtn.style.display = (slides.length > 1) ? "block" : "none";
    }

    function prevSlide() {
      const slides = topicImages[currentTopic];
      if (!slides || slides.length <= 1) return;
      currentIndex = (currentIndex - 1 + slides.length) % slides.length;
      showSlide();
    }

    function nextSlide() {
      const slides = topicImages[currentTopic];
      if (!slides || slides.length <= 1) return;
      currentIndex = (currentIndex + 1) % slides.length;
      showSlide();
    }

    function goHome() {
      detailScreen.style.display = "none";
      quizScreen.style.display   = "none";
      homeScreen.style.display   = "block";
    }

    /* --------- QUIZ LOGIC ---------- */

    const quizQuestions = [
      {
        q: "Foreign nationals may directly apply for DOST-GIA funding.",
        correct: false
      },
      {
        q: "One objective of GIA is to improve productivity and quality of life through technology.",
        correct: true
      },
      {
        q: "A clearance from previous GIA-funded projects is required when applying again.",
        correct: true
      },
      {
        q: "Private institutions are NOT allowed to apply for GIA.",
        correct: false
      },
      {
        q: "DOST's Monitoring & Evaluation protocol takes 45 days.",
        correct: false
      }
    ];

    let quizIndex = 0;
    let score = 0;

    function startQuiz() {
      homeScreen.style.display   = "none";
      detailScreen.style.display = "none";
      quizScreen.style.display   = "block";
      quizIndex = 0;
      score = 0;

      // reset question + buttons in case this is a replay
      document.getElementById("quizBox").innerHTML = `
        <h1 id="quizQuestion" style="
            font-size:4vh; 
            font-weight:900;
            text-shadow:0 0 12px #000;">Question</h1>

        <div id="quizButtons" style="margin-top:8vh;">
          <button onclick="answer(true)" style="
              font-size:3vh; padding:2vh 4vh; margin-right:4vh;
              border:none; border-radius:12px; cursor:pointer;
              background:#00c853; color:white; font-weight:900;
              box-shadow:0 0 12px rgba(0,0,0,0.6);">
              TRUE
          </button>

          <button onclick="answer(false)" style="
              font-size:3vh; padding:2vh 4vh;
              border:none; border-radius:12px; cursor:pointer;
              background:#d50000; color:white; font-weight:900;
              box-shadow:0 0 12px rgba(0,0,0,0.6);">
              FALSE
          </button>
        </div>
      `;
      loadQuiz();
    }

    function loadQuiz() {
      if (quizIndex >= quizQuestions.length) {
        endQuiz();
        return;
      }
      document.getElementById("quizQuestion").innerHTML =
        "Question " + (quizIndex + 1) + "<br>" + quizQuestions[quizIndex].q;
    }

    function answer(ans) {
      if (ans === quizQuestions[quizIndex].correct) {
        score++;
      }
      quizIndex++;
      loadQuiz();
    }

    function endQuiz() {
      const total = quizQuestions.length;
      const win = score > total / 2;

      // RESULT TITLE
      document.getElementById("quizQuestion").innerHTML =
        (win
          ? `YOU WIN!<br><br>Score: ${score} / ${total}`
          : `YOU LOSE<br><br>Score: ${score} / ${total}`
        );

      document.getElementById("quizQuestion").style.fontSize = "5vh";

      // ANSWER EXPLANATIONS (SMALL OVERVIEW LIST)
      const explanations = [
        {
          ans: "False",
          note: "Only Filipino citizens or PH institutions are eligible. Foreign nationals may assist but cannot be direct beneficiaries."
        },
        {
          ans: "True",
          note: "This aligns with DOST’s mandate to uplift productivity and quality of life through technology."
        },
        {
          ans: "True",
          note: "Applicants with previous projects need updated liquidation and no-pending-obligation clearance."
        },
        {
          ans: "False",
          note: "Private institutions may apply if legally registered and compliant with GIA requirements."
        },
        {
          ans: "False",
          note: "The M&E protocol timeline is 40 days, not 45."
        }
      ];

      // BUILD HTML LIST
      let overviewHTML = `
        <div style="
          margin-top:1vh;
          padding:2vh;
          background:rgba(0,0,0,0.55);
          border-radius:12px;
          max-height:40vh;
          overflow-y:auto;
          text-align:left;
          font-size:2.2vh;
          line-height:1.4;
          box-shadow:0 0 10px rgba(0,0,0,0.6);
        ">
    `;


      quizQuestions.forEach((item, i) => {
        overviewHTML += `
          <div style="margin-bottom:2vh;">
            <b>${i + 1}) ${item.q}</b><br>
            <span style="color:#00e676;">Answer: ${explanations[i].ans}</span><br>
            <span style="color:#fff; font-size:2vh;">✔️ ${explanations[i].note}</span>
          </div>
        `;
      });

      overviewHTML += `</div>`;

      // PRINT OVERVIEW + RETURN BUTTON
      document.getElementById("quizBox").innerHTML = `
      <div style="
        margin-top:-9vh;         /* LIFT EVERYTHING UP */
        text-align:center;
      ">
      
      <h1 style="
        font-size:5vh;
        margin-bottom:0.5vh;
        text-shadow:0 0 12px black;
        color:${win ? '#00e676' : '#ff5252'};
      ">
        ${win ? "YOU WIN!" : "YOU LOSE"}
      </h1>

      <div style="
        font-size:3.5vh;
        font-weight:700;
        margin-bottom:2vh;
        text-shadow:0 0 10px #000;
      ">
        Score: ${score} / ${total}
      </div>

      <!-- RESULT TEXT ONLY — NO BACKGROUND -->
      <div style="
        width:90%;
        max-width:900px;
        margin:0 auto;
        margin-top:0vh;
        padding:0vh;
        background:transparent;
        border:none;
        box-shadow:none;
        max-height:48vh;
        overflow-y:auto;
        color:white;
        text-align:left;
      ">
        ${overviewHTML}
      </div>


      <button onclick="goHome()" style="
        margin-top:3vh;
        font-size:1vh;        /* smaller text */
        padding:1vh 3vh;      /* smaller height */
        border:none;
        border-radius:10px;
        cursor:pointer;
        background:#ffc800;
        color:black;
        font-weight:900;
        box-shadow:0 0 8px rgba(0,0,0,0.5);   /* softer shadow */
      ">
        RETURN TO MENU
      </button>

  </div>
`;

    }

  </script>

</body>
</html>
